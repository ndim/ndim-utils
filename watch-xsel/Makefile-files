# -*- Makefile -*-

EXTRA_DIST  += watch-xsel/watch-xsel.in
bin_SCRIPTS += watch-xsel/watch-xsel
CLEANFILES  += watch-xsel/watch-xsel
watch-xsel/watch-xsel: watch-xsel/watch-xsel.in $(PACKAGE_SUBST_DEP)
	$(PACKAGE_SUBST) $(srcdir)/watch-xsel/watch-xsel.in watch-xsel/watch-xsel
	chmod +x watch-xsel/watch-xsel

EXTRA_DIST += watch-xsel/watch-xsel.1.in
CLEANFILES += watch-xsel/watch-xsel.1
man_MANS   += watch-xsel/watch-xsel.1
watch-xsel/watch-xsel.1: watch-xsel/watch-xsel.1.in $(PACKAGE_SUBST_DEP)
	$(PACKAGE_SUBST) $(srcdir)/watch-xsel/watch-xsel.1.in watch-xsel/watch-xsel.1

TEST_EXTENSIONS += .sh
SH_LOG_COMPILER = /bin/sh
AM_SH_LOG_FLAGS = -x

EXTRA_DIST += watch-xsel/test_watch-xsel--help.sh
TESTS      += watch-xsel/test_watch-xsel--help.sh

EXTRA_DIST += watch-xsel/test_watch-xsel--version.sh
TESTS      += watch-xsel/test_watch-xsel--version.sh

TEST_EXTENSIONS   += .twxf
TWXF_LOG_COMPILER  = $(PYTHON)
AM_TWXF_LOG_FLAGS  = $(srcdir)/watch-xsel/test-watch-xsel-filters
EXTRA_DIST        += watch-xsel/test-watch-xsel-filters

EXTRA_DIST += watch-xsel/oneline.twxf
TESTS      += watch-xsel/oneline.twxf

EXTRA_DIST += watch-xsel/fourlines.twxf
TESTS      += watch-xsel/fourlines.twxf
